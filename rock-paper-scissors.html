<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>

                let cpuWin = 0;
                let playerWin = 0;
                let tie = 0;

            function computerPlay () {

                let cpuplay = Math.random();
                let cpuChoice;

                if (cpuplay <= .33) {
                    cpuChoice = 'ROCK'
                } else if (cpuplay > .33 && cpuplay <= .66) {
                    cpuChoice = 'PAPER'
                } else {
                    cpuChoice = 'SCISSORS'
                }
                return cpuChoice;
            }
            
            function playRound() {

                const playerSelection = prompt('What do you choose: Rock, Paper, or Scissors?');
                const computerSelection = computerPlay();

                if (playerSelection.toUpperCase() === "ROCK" && computerSelection === "ROCK" ||
                    playerSelection.toUpperCase() === "PAPER" && computerSelection === "PAPER" ||
                    playerSelection.toUpperCase() === "SCISSORS" && computerSelection === "SCISSORS") {
                    ++tie;
                    return 'The Computer picks ' + computerSelection +': Tie, play again!';

                } else if (playerSelection.toUpperCase() === "ROCK" && computerSelection === "PAPER") {
                    ++cpuWin;
                    return 'The Computer picks ' + computerSelection +': You lose! Your rock is cloaked in my expansive paper - no way out!';
                    
                } else if (playerSelection.toUpperCase() === "ROCK" && computerSelection === "SCISSORS") {
                    ++playerWin;
                    return 'The Computer picks ' + computerSelection +': Congratulations, your victorious rock smashes my weak scissors';
                
                } else if (playerSelection.toUpperCase() === "PAPER" && computerSelection === "ROCK") {
                    ++playerWin;
                    return 'The Computer picks ' + computerSelection +': I can\'t see! I\'m lost in your paper! You win, you win!!!';;
                
                } else if (playerSelection.toUpperCase() === "PAPER" && computerSelection === "SCISSORS") {
                    ++cpuWin;
                    return 'The Computer picks ' + computerSelection +': I snip and slice your paper to shreeds with my shiny new scissors!';
                
                } else if (playerSelection.toUpperCase() === "SCISSORS" && computerSelection === "ROCK") {
                    ++cpuWin;
                    return 'The Computer picks ' + computerSelection +': Your brittle scissors are mangled and destroyed under the girth of my rock!';
                
                } else if (playerSelection.toUpperCase() === "SCISSORS" && computerSelection === "PAPER") {
                    ++playerWin;
                    return 'The Computer picks ' + computerSelection +': I was once a crisp, pristine sheet of paper.... now confetti.  You\'ve bested me...';
                } else {
                    ++cpuWin;
                    return 'The Computer picks ' + computerSelection +', but you can\'t even follow simple instructions and chose ' + playerSelection + ' so.... you lose.... you just lose.';
                }
            }

           
            function keepScore() {
                return `The Score is  ${playerWin} - ${cpuWin} - ${tie}`;
            } 
            
            
            function playGame() {
        
                for (i = 0; i < 5; i++){
                    console.log(playRound());
                    console.log(keepScore());
                }
                if (playerWin + cpuWin + tie == 5) {
                    if (playerWin > cpuWin) {
                        return "The game is over. YOU'VE WON!!!  The final score is: " + playerWin + " - " + cpuWin + " - " + tie;
                    } else if (cpuWin > playerWin) {
                        return "The game is over. YOU'VE LOST :( !!!  The final score is: " + playerWin + " - " + cpuWin + " - " + tie;
                    } else {
                        return "The game is over.  It has proven to be a struggle of equal wits.  TIE GAME!"
                    }
                }    
            }

        </script>
    </body>
</html>